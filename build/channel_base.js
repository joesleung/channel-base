define("ajax_setup",function(t){var e=t("store");!function(){function t(t,i){var n=i.times,o=i.backup,s=t.timeout,r=null;return function(a,c,l){function h(t){t&&t.url===i.backup&&(t.cache=!0,_.eventCenter.trigger(d.jsonpCallback+":backup",i.backup)),d.data=d.__data||{},$.extend(d,{url:d.originalUrl,forceStore:!1},t),$.ajax(d).retry({times:n-1,timeout:i.timeout,statusCodes:i.statusCodes,backup:o}).pipe(f.resolve,f.reject)}function u(){var t=e.get(d.storeKey);t?h({forceStore:!0}):f.rejectWith(this,arguments)}var d=this,f=new $.Deferred,p=t.getResponseHeader("Retry-After");return r&&clearTimeout(r),d.forceBackup&&(n=0),n>0&&(!t.statusCodes||$.inArray(a.status,t.statusCodes)>-1)?(p&&(s=isNaN(p)?new Date(p).getTime()-$.now():1e3*parseInt(p,10),(isNaN(s)||s<0)&&(s=t.timeout)),void 0!==s&&n!==i.times?r=setTimeout(h,s):h()):0===n?"string"==typeof o&&o.length>0?h({url:o}):u():n===-1?u():f.rejectWith(this,arguments),f}}$.ajaxPrefilter(function(i,n,o){function s(t){var n=i.needStore,o=i.storeKey,s=i.storeCheck;if(n=!!n&&e.enabled){var r=e.get(o);if(!r||!s(r)){if("string"==typeof t)try{t=JSON.parse(t)}catch(a){t={}}e.set(o,t)}}}var r=$.Deferred();return o.done(function(t){var e=i.dataCheck;$.isFunction(e)&&!e(t)?(n.url=n.backup,n.dataCheck=null,n.forceBackup=!0,r.rejectWith(n,arguments)):(s(t),r.resolveWith(n,arguments))}),o.fail(r.reject),o.retry=function(e){return e.timeout&&(this.timeout=e.timeout),e.statusCodes&&(this.statusCodes=e.statusCodes),this.pipe(null,t(this,e))},r.promise(o)}),$.ajaxTransport("+script",function(t){var i=t.needStore,n=t.storeKey,o=t.storeCheck,s=t.dataType,r=t.forceStore;if(i=!!i&&e.enabled){var a=e.get(n);if(a&&(o(a)||r))return{send:function(e,i){var n={};n[s]=t.jsonpCallback+"("+JSON.stringify(a)+")",i(200,"success",n,"")},abort:function(){_.console.log("abort ajax transport for local cache")}}}})}()}),function(t){"use strict";function e(t){for(var e={},i=e.toString,n="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<n.length;o++){var s=n[o];e["[object "+s+"]"]=s.toLowerCase()}return null===t?t+"":"object"==typeof t||"function"==typeof t?e[i.call(t)]||"object":typeof t}function i(t){return"function"===e(t)}var n=t._||(t._={}),o=!1,s=/xyz/.test(function(){})?/\bsuper\b/:/.*/;n.Class=function(){},n.Class.extend=function r(t){function e(t,e,i){return function(){return this._super=t[e],i.apply(this,arguments)}}function n(){!o&&i(this.construct)&&this.construct.apply(this,arguments)}var a=this.prototype;o=!0;var c=new this;o=!1;for(var l in t)if("statics"===l){var h=t[l];for(var u in h)n[u]=h[u]}else i(a[l])&&i(t[l])&&s.test(t[l])?c[l]=e(a,l,t[l]):c[l]=t[l];return n.prototype=c,n.prototype.constructor=n,n.extend=r,n}}(window,void 0),function(t){"use strict";function e(t){var e=!1,i=t.split("?")[1];if(i)if(i=i.split("#")[0]){i=i.split("&");for(var n=0,o=i.length;n<o;n++){var s=i[n].split("=");e=2===s.length&&("debug"===s[0]&&"true"===s[1])}}else e=!1;else e=!1;return e}for(var i,n=t._||(t._={}),o={},s=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],r=s.length,a=window.console=window.console||{},c=function(){};r--;)i=s[r],a[i]||(a[i]=c);var l=e(window.location.href);o=function(t){this.debug=l},o.prototype={log:function(t){this.debug&&a.log(t)},warn:function(t){this.debug&&a.warn(t)},error:function(t){this.debug&&a.error(t)},debug:function(t){this.debug&&a.debug(t)},info:function(t){this.debug&&a.debug(t)}},o.prototype.errorReport=function(t,e){},n.console=new o}(window,void 0),function(t){"use strict";function e(t,e,i){var n;return n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},$.extend(n,t),a.prototype=t.prototype,n.prototype=new a,e&&$.extend(n.prototype,e),i&&$.extend(n,i),n.prototype.constructor=n,n.__super__=t.prototype,n}function i(t,i){var n=e(this,t,i);return n.extend=this.extend,n}function n(t){"undefined"!=typeof t&&t.callbacks?this.callbacks=t.callbacks:this.callbacks={}}var o=/\s+/,s=[].slice,r=t._||(t._={}),a=function(){};n.extend=i,n.prototype={on:function(t,e,i){var n,s,r,a,c;if(!e)return this;for(t=t.split(o),n=this.callbacks;s=t.shift();)c=n[s],r=c?c.tail:{},r.next=a={},r.context=i,r.callback=e,n[s]={tail:a,next:c?c.next:r};return this},off:function(t,e,i){var n,s,a,c,l,h;if(s=this.callbacks){if(!(t||e||i))return delete this.callbacks,this;for(t=t?t.split(o):r.keys(s);n=t.shift();)if(a=s[n],delete s[n],a&&(e||i))for(c=a.tail;(a=a.next)!==c;)l=a.callback,h=a.context,(e&&l!==e||i&&h!==i)&&this.on(n,l,h);return this}},trigger:function(t){var e,i,n,r,a,c,l;if(!(n=this.callbacks))return this;for(c=n.all,t=t.split(o),l=s.call(arguments,1);e=t.shift();){if(i=n[e])for(r=i.tail;(i=i.next)!==r;)i.callback.apply(i.context||this,l);if(i=c)for(r=i.tail,a=[e].concat(l);(i=i.next)!==r;)i.callback.apply(i.context||this,a)}return this}},r.Events=n,r.eventCenter=new n}(window,void 0),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,s,r,a=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(c)){for(s=c.length,i=0;i<s;i+=1)r[i]=str(i,c)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;i<s;i+=1)"string"==typeof rep[i]&&(n=rep[i],o=str(n,c),o&&r.push(quote(n)+(gap?": ":":")+o));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(o=str(n,c),o&&r.push(quote(n)+(gap?": ":":")+o));return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("load_async",["ajax_setup"],function(t){return t("ajax_setup"),function(t){t=$.extend({url:"",params:{},timeout:3e3,times:2,backup:null,needStore:!1,storeSign:null,cache:!1,dataCheck:null,dataType:"jsonp",type:"get",scriptCharset:"UTF-8"},t);var e=function(t){var e=t;return/forcebot/i.test(location.href)&&(e=$.extend({forceBot:1},e)),e};return $.ajax({type:t.type,url:t.url,scriptCharset:t.scriptCharset,originalUrl:t.url,data:e(t.params),__data:e(t.params),dataType:t.dataType,jsonp:"callback",jsonpCallback:t.jsonpCallback,cache:t.cache,timeout:t.timeout,dataCheck:t.dataCheck,storeKey:t.url,needStore:t.needStore,storeCheck:function(e){return!!e&&e.version&&e.version===t.storeSign}}).retry({timeout:t.timeout,times:t.times,backup:t.backup}).then(function(e){if(e&&(e.__uri=t.url),t.params&&t.params.__trigger){var i=t.jsonpCallback+":end";_.eventCenter.trigger(i,e)}},function(e){_.console.log(t.url),_.console.log("请求接口和兜底都失败了")})}}),define(function(t){"use strict";var e=pageConfig.o2AppName||"";""!==e&&$("html").addClass(e);var i=t("o2console");i.consoleConfigFunc(),t.async(["jdf/1.0.0/unit/globalInit/2.0.0/globalInit.js","jdf/1.0.0/unit/category/2.0.0/category.js","//static.360buyimg.com/mtd/pc/components/1.0.0/lazyload/lazyload.js"],function(e,i,n){e(),i({type:"mini",mainId:"#categorys-mini",el:"#categorys-mini-main"}),$("body").o2lazyload().bind("render",".o2data-lazyload",function(e,i){var n=$(e.target),o=n.find('[type="text/template"]'),s=n.data("script")||"",r="",a=window.data[n.data("id")]||{};r="object"==typeof i?i.dom:o.html();var c=t("o2tpl");try{var l=c(r,a);n.html(l),setTimeout(function(){n.trigger("done"),""!==s&&new Function(s).call(n),$(window).trigger("resize")},0)}catch(e){console.log(e)}});var o=t("o2widgetLazyload");window.o2widgetLazyload=new o})}),define("o2console",function(){"use strict";return{consoleConfig:{staff:"%c本页面由%c 凹凸实验室（JDC-多终端研发部） %c负责开发，你可以通过 https://aotu.io 了解我们。\n\n如果你对我们在做的事情也有兴趣，欢迎加入 %caotu@jd.com%c（注明来自console）\n\n",freshTec:"%c%c",funExp:"%c%c"},consoleConfigFunc:function(){if(window.console&&console.log&&navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)){var t="undefined"!=typeof o2ConsoleConfig?o2ConsoleConfig:this.consoleConfig,e="font-weight: bold;color: #6190e8;",i="font-size: 12px;color: #6190e8;";console.log(t.staff+t.freshTec+t.funExp,"color: #6190e8;",e,i,e,i,e,i,e,i)}}}}),function(){var t={getDownloadSpeed:function(){try{var t=(window.performance||window.webkitPerformance||{}).timing;if(t){var e=$("html").html().length,i=e/1024,n=performance.timing.responseEnd-performance.timing.requestStart;return Math.round(.25*i/(n/1e3))}}catch(o){}return 0},getRank:function(){var t=this.getDownloadSpeed();return t<25?31:t<50?32:t<75?33:t<100?34:t<150?35:t<200?36:t<250?37:t<300?38:t<350?39:t<400?40:t<450?41:t<500?42:t<1e3?43:44},getSpeedInfo:function(){var t=Math.floor(100*Math.random()),e=this.getDownloadSpeed(),i=window.pageConfig||{},n=i&&i.O2_REPORT;return void 0!==n&&"number"==typeof n||(n=100),n>0&&t>=0&&t<=n&&e>0?"s"+this.getRank()+"="+e:""},getScreenSection:function(){var t=document.documentElement.clientWidth;return t>=1190?68:t>=990?69:70},getScreenRatio:function(){var t=window.screen.width,e=window.screen.height,i={51:{width:800,height:600},52:{width:960,height:640},53:{width:1024,height:768},54:{width:1136,height:640},55:{width:1152,height:864},56:{width:1280,height:768},57:{width:1280,height:800},58:{width:1280,height:960},59:{width:1280,height:1024},60:{width:1366,height:768},61:{width:1440,height:900},62:{width:1600,height:1024},63:{width:1600,height:1200},64:{width:1920,height:1080},65:{width:1920,height:1200},66:{width:2560,height:1440},67:{width:2560,height:1600}};for(var n in i)if(t===i[n].width&&e===i[n].height)return n},getBrowser:function(){var t,e={},i=navigator.userAgent.toLowerCase();return(t=i.match(/rv:([\d.]+)\) like gecko/))?e.ie=t[1]:(t=i.match(/msie ([\d.]+)/))?e.ie=t[1]:(t=i.match(/firefox\/([\d.]+)/))?e.firefox=t[1]:(t=i.match(/metasr/))?e.sougou=!0:(t=i.match(/qqbrowser/))?e.qq=!0:(t=i.match(/version\/([\d.]+).*safari/))?e.safari=t[1]:(t=i.match(/chrome\/([\d.]+)/))?e.chrome=t[1]:(t=i.match(/opera.([\d.]+)/))?e.opera=t[1]:(t=i.match(/ipad/))?e.ipad=!0:0,e.chrome?11:e.firefox?12:e.safari?13:e.opera?14:e.ie?"6.0"===e.ie?15:"7.0"===e.ie?16:"8.0"===e.ie?17:"9.0"===e.ie?18:"10.0"===e.ie?19:"11.0"===e.ie?20:21:e.sougou?22:e.qq?23:e.ipad?24:25},getBaseData:function(){var t=window._REPORT_,e=t&&t.START,i=[];if(t&&e){var n=t.CSS,o=t.FS,s=t.JS,r=t.DOM;n&&i.push("s72="+(n.getTime()-e.getTime())),o&&i.push("s73="+(o.getTime()-e.getTime())),s&&i.push("s74="+(s.getTime()-e.getTime())),r&&i.push("s75="+(r.getTime()-e.getTime())),i.push("s76="+((new Date).getTime()-e.getTime()))}return i.join("&")},getRetina:function(){return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-device-pixel-ratio: 1.5), (min-resolution: 144dpi), (min-resolution: 1.5dppx)").matches?"s71=1":""},processRetina:function(){var t=this.getRetina();t&&this.processCore(t)},getSystem:function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("macintosh")!==-1||t.indexOf("mac os x")!==-1)return 6;if(t.indexOf("linux")!==-1)return 7;var e={"nt 5.1":1,"nt 5.2":1,"nt 6.0":2,"nt 6.1":3,"nt 6.2":4,"nt 6.3":4,"nt 6.4":5,"nt 10.0":5};for(var i in e)if(t.indexOf(i)!==-1)return e[i];return 8},_getErrorInfo:function(t){var e=[];e.push("s"+this.getSystem()+"=1"),e.push("s"+this.getBrowser()+"=1"),e.push("s30=1");var i=this.getDownloadSpeed();return i>0&&e.push("s"+this.getRank()+"="+i),e.push("s"+(50+t)+"=1"),e.join("&")},processBackup:function(t){this.pBackupId&&this.processCore(this._getErrorInfo(t),this.pBackupId)},processHidedFloor:function(t){this.pFloorId&&this.processCore(this._getErrorInfo(t),this.pFloorId)},processTempl:function(t){this.pTemplId&&this.processCore(this._getErrorInfo(t),this.pTemplId)},processSpeed:function(){var t=this.getSpeedInfo();t&&this.processCore(t)},processJsError:function(){var t=window,e=window.pageConfig||{},i=Math.floor(100*Math.random()),n=e&&e.O2_ERROR_REPORT;void 0!==n&&"number"==typeof n||(n=100),n>0&&i>=0&&i<=n&&$(t).bind("error.o2report",function(e,i,n,o,s){var r="";if(o=o||t.event&&t.event.errorCharacter||0,s&&s.stack)e=s.stack.toString();else if(arguments.callee){for(var a=[e],c=arguments.callee.caller,l=3;c&&--l>0&&(a.push(c.toString()),c!==c.caller);)c=c.caller;e=a.join(",")}if(r=JSON.stringify(e)+(i?";URL:"+i:"")+(n?";Line:"+n:"")+(o?";Column:"+o:""),t.lastErrMsg){if(t.lastErrMsg.indexOf(e)>-1)return;t.lastErrMsg+="|"+e}else t.lastErrMsg=e;setTimeout(function(){r=encodeURIComponent(r);var t=new Image;t.src="//wq.jd.com/webmonitor/collect/badjs.json?Content="+r+"&t="+Math.random()},1e3)})},_firstReport:!1,processAllData:function(){if(!this._firstReport){this._firstReport=!0;var t=this.getSpeedInfo(),e=this.getRetina();if(e||t){var i=this.getBaseData(),n=this.getBrowser(),o=this.getScreenRatio(),s=this.getSystem(),r=[];r.push("s"+s+"=1"),r.push("s"+n+"=1"),r.push("s30=1"),t&&r.push(t),o&&r.push("s"+o+"=1"),r.push("s"+this.getScreenSection()+"=1"),e&&r.push(e),i&&r.push(i),this.processCore(r.join("&"))}}},image:null,processCore:function(t,e){var i=e||this.pid;this.image=new Image,this.image.src="//fd.3.cn/cesu/r?pid="+i+"&"+t+"&_="+(new Date).getTime()},debug:function(t){"undefined"!=typeof console.log&&console.log(t)},pid:0,pFloorId:0,pBackupId:0,pTemplId:0,init:function(t,e,i,n){var o=this;return t?(o.pid=t,o.pFloorId=i,o.pBackupId=e,o.pTemplId=n,$(window).bind("load.o2report",function(){o.processAllData()}),void o.processJsError()):void o.debug("pageId must be provided!")}};"function"==typeof define&&(define.amd||define.cmd)?define("report",function(){return t}):window.o2Report=t}(),define("store",function(){"use strict";function t(){try{return o in n&&n[o]}catch(t){return!1}}var e,i={},n="undefined"!=typeof window?window:global,o=(n.document,"localStorage");i.disabled=!1,i.version="1.3.20",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(t){},i.clearByReg=function(t){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var o=i.get(t,e);n(o),i.set(t,o)},i.getAll=function(){var t={};return i.forEach(function(e,i){t[e]=i}),t},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},t()&&(e=n[o],i.set=function(t,n){return void 0===n?i.remove(t):(e.setItem(t,i.serialize(n)),n)},i.get=function(t,n){var o=i.deserialize(e.getItem(t));return void 0===o?n:o},i.remove=function(t){e.removeItem(t)},i.clearByReg=function(t){var i=new RegExp(t);for(var n in e)i.test(n)&&this.remove(n)},i.clear=function(){e.clear()},i.forEach=function(t){for(var n=0;n<e.length;n++){var o=e.key(n);t(o,i.get(o))}});try{var s="__storejs__";i.set(s,s),i.get(s)!=s&&(i.disabled=!0),i.remove(s)}catch(r){i.disabled=!0}return i.enabled=!i.disabled,i}),define("o2tpl",function(){"use strict";var t=function(e,i){var n=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return i?n(i,t):function(e){return n(e,t)}};return t.cache={},t.load=function(t){return document.getElementById(t).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(t,e,i,n,o,s){return e?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+n+")+'":"'+("+n+"==null?'':"+n+")+'":o?"';":s?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}",t}),define("o2widgetLazyload",function(t,e,i){"use strict";return function(e){var i={cls:"o2data-lazyload",defCls:["lazy-fn","o2loading"],scrollEvent:"scroll.lazydata resize.lazydata"},n=window.pageConfig?window.pageConfig.o2JSConfig:{};n=n||{},window._o2ver={},$.extend(i,e),window.tplVersion=$.extend(window.o2tplVersion||{},window.tplVersion);var o=t("store"),s=!!window.ActiveXObject||navigator.userAgent.indexOf("Trident")>0,r="localStorage"in window&&null!==window.localStorage,a=s?1e3:500,c=i.defCls.concat(i.cls).join(" ");a=n.preloadOffset?n.preloadOffset:a;var l=!!n.ieStorage&&n.ieStorage,h=l&&r,u=function(){var t=null;_.eventCenter.trigger("channel:ready"),$(window).bind(i.scrollEvent,function(e){clearTimeout(t),t=setTimeout(function(){d()},200)}).trigger(i.scrollEvent.split(" ")[0])},d=function(){var t=$(document).scrollTop(),e=$(window).height()+a,r=i.cls,c=$("."+r);c.each(function(){var i=$(this),r=i.data("rel")||this,a=$(r),c=i.html(),l=i.data("tpl")||"",u=i.data("remotetpl")||"",d="boolean"==typeof i.data("async")&&i.data("async"),g="boolean"==typeof i.data("forcerender")&&i.data("forcerender"),v=null;if(""!==u&&(l=u),!i.hasClass("o2loading")&&(g||a.offset().top-(t+e)<0&&a.offset().top+a.outerHeight(!0)>=t))if(""!==l&&n.pathRule)if(/\.js/.test(l)?(v=l,l=v.match(/\/(\w*)(\.min)?\.js/)[1]||""):v=n.pathRule(l),!h&&s||!o.enabled)m(i,c,d,"",p(v,!1,i));else{var w=o.get(v);w&&window.tplVersion&&w.version===window.tplVersion[l]?(f(i,w),m(i,c,d,w)):m(i,c,d,"",p(v,!0,i))}else m(i,c,d,"")})},f=function(t,e){"object"==typeof e&&(window._o2ver[e.version]||(e.style&&$("head").append("<style>"+e.style+"</style>"),e.script&&$("head").append("<script>"+e.script+"</script>"),window._o2ver[e.version]=e.version,t.trigger("tplLoadDone",e),setTimeout(function(){d()},200)))},p=function(t,e,i){var n=$.Deferred();return seajs.use(t,function(s){s?(e&&o.set(t,s),f(i,s),n.resolve(s)):n.reject()}),n.promise()},g=function(t,e,i,n){"undefined"!=typeof n?$.when(n).done(function(i){t.html(e).removeClass(c).trigger("render",i)}).fail(function(){t.trigger("tplLoadFail")}):t.html(e).removeClass(c).trigger("render",i)},m=function(t,e,i,n,o){i?t.data("events")&&t.data("events").beforerender&&t.html(e).addClass("o2loading").trigger("beforerender",function(){g(t,e,n,o)}):t.addClass("o2loading")&&g(t,e,n,o)};u(),this.detectRender=d}}),define("o2widgetLazyload",function(t,e,i){"use strict";return function(e){var i={cls:"o2data-lazyload",scrollEvent:"scroll.lazydata resize.lazydata"},n=window.pageConfig?window.pageConfig.o2JSConfig:{};n=n||{},$.extend(i,e);var o=t("store"),s=function(){var t=null,e=!!window.ActiveXObject||navigator.userAgent.indexOf("Trident")>0;$(window).bind(i.scrollEvent,function(s){clearTimeout(t),t=setTimeout(function(){var t=e?1e3:500,s=$(document).scrollTop(),a=$(window).height()+t,c=i.cls,l=$("."+c);l.each(function(){var t=$(this),i=t.data("rel")||this,c=$(i),l=t.html(),h=t.data("tpl"),u="boolean"==typeof t.data("async")&&t.data("async"),d="boolean"==typeof t.data("forcerender")&&t.data("forcerender"),f=null;if(!t.hasClass("o2loading")&&(d||c.offset().top-(s+a)<0&&c.offset().top+c.outerHeight(!0)>=s))if(h&&n.pathRule)if(f=n.pathRule(h),e||!o.enabled)seajs.use(f,function(e){r(t,l,u,e)});else{var p=o.get(f);p&&p.version===window.tplVersion[h]?r(t,l,u,p):seajs.use(f,function(e){o.set(f,e),r(t,l,u,e)})}else r(t,l,u,"")})},200)}).trigger(i.scrollEvent.split(" ")[0])},r=function(t,e,n,o){n?t.html(e).addClass("o2loading").trigger("beforerender",function(){t.removeClass(i.cls+" lazy-fn o2loading").trigger("render",o)}):t.html(e).removeClass(i.cls+" lazy-fn o2loading").trigger("render",o)};s()}}),define("o2widgetLazyload",function(t,e,i){"use strict";return function(e){var i={cls:"o2data-lazyload",defCls:["lazy-fn","o2loading"],scrollEvent:"scroll.lazydata resize.lazydata"},n=window.pageConfig?window.pageConfig.o2JSConfig:{};n=n||{},$.extend(i,e);var o=t("store"),s=!!window.ActiveXObject||navigator.userAgent.indexOf("Trident")>0,r="localStorage"in window&&null!==window.localStorage,a=s?1e3:500,c=!1,l=i.defCls.concat(i.cls).join(" ");a=n.preloadOffset?n.preloadOffset:a;var h=!!n.ieStorage&&n.ieStorage,u=h&&r,d=function(){var t=null;$(window).bind(i.scrollEvent,function(e){clearTimeout(t),t=setTimeout(function(){f()},200)}).trigger(i.scrollEvent.split(" ")[0])},f=function(){var t=$(document).scrollTop(),e=$(window).height()+a,r=i.cls,l=$("."+r);c||(_.eventCenter.trigger("channel:ready"),c=!0),l.each(function(){var i=$(this),r=i.data("rel")||this,a=$(r),c=i.html(),l=i.data("tpl")||"",h=i.data("remotetpl")||"",d="boolean"==typeof i.data("async")&&i.data("async"),f="boolean"==typeof i.data("forcerender")&&i.data("forcerender"),g=null;if(!i.hasClass("o2loading")&&(f||a.offset().top-(t+e)<0&&a.offset().top+a.outerHeight(!0)>=t))if(""!==l&&n.pathRule||""!==h)if(g=""!==h?h:n.pathRule(l),!u&&s||!o.enabled||""!==h)m(i,c,d,"",p(g,!1));else{var v=o.get(g);!v||window.tplVersion&&v.version!==window.tplVersion[l]?m(i,c,d,"",p(g,!0)):m(i,c,d,v)}else m(i,c,d,"")})},p=function(t,e){var i=$.Deferred();return seajs.use(t,function(n){n?(e&&o.set(t,n),i.resolve(n)):i.reject()}),i.promise()},g=function(t,e,i,n){"undefined"!=typeof n?$.when(n).done(function(i){t.html(e).removeClass(l).trigger("render",i)}).fail(function(){t.trigger("tplLoadFail")}):t.html(e).removeClass(l).trigger("render",i)},m=function(t,e,i,n,o){i?t.data("events")&&t.data("events").beforerender&&t.html(e).addClass("o2loading").trigger("beforerender",function(){g(t,e,n,o)}):g(t,e,n,o)};d(),this.detectRender=f}}),define("accordion",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:null,itemOfFirstExpand:0,isVertical:!0,expandPx:230,speed:500,easing:"linear",activeClass:"item_on"},t),this.$container=$(this.container),this.$itemSelector=$(this.itemSelector),this.itemSelectorPx=this.isVertical?this.$itemSelector.height():this.$itemSelector.width(),this.init()},init:function(){this.initElements(),this.initEvent()},initElements:function(){var t=this.$itemSelector.eq(this.itemOfFirstExpand);return t.addClass(this.activeClass),this.isVertical?t.animate({height:this.expandPx},this.speed,this.timingFunc):t.animate({width:this.expandPx},this.speed,this.timingFunc),this},initEvent:function(){var t=this;return this.$container.delegate(this.itemSelector,"mouseenter",function(){var e=$(this);e.addClass(t.activeClass).siblings().removeClass(t.activeClass),t.isVertical?e.stop(!0,!0).animate({height:t.expandPx},t.speed,t.timingFunc).siblings().animate({height:t.itemSelectorPx},t.speed,t.timingFunc):e.stop(!0,!0).animate({width:t.expandPx},t.speed,t.timingFunc).siblings().animate({width:t.itemSelectorPx},t.speed,t.timingFunc)}),this},destroy:function(){this.unbind(),this.$container.remove()},unbind:function(){return this.$container.undelegate(),this}});return t}),define("backTop",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{backTopElement:null,startShowPosition:0,delay:50,speed:500},t),this.init()},init:function(){this.$backTop=$(this.backTopElement),this.$window=$(window),this.scrollTimer=null,this.checkRun()},checkRun:function(){null!=this.$backTop&&0!=this.$backTop.length&&this.start()},start:function(){this.initEvent()},initEvent:function(){var t=this,e=t.$backTop;t.$window.bind("scroll.winScroll",$.proxy(t.winScroll,t)),e.bind("click.backTop",$.proxy(t.backToTop,t))},ifShow:function(){var t=this,e=t.$window.scrollTop();e>=t.startShowPosition?t.$backTop.fadeIn():t.$backTop.fadeOut()},backToTop:function(){var t=this;return t.$window.unbind("scroll.winScroll"),$("body,html").stop().animate({scrollTop:0},t.speed,function(){t.ifShow(),t.$window.bind("scroll.winScroll",$.proxy(t.winScroll,t))}),!1},winScroll:function(){var t=this;t.$backTop;clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout(function(){t.ifShow()},t.delay)}});return t}),define("carousel",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:null,itemWidth:0,activeClass:"active",startIndex:0,duration:500,delay:2e3,switchType:"fade",isAuto:!0,zIndex:5,onFirstSwitch:function(){},onBeforeSwitch:function(){},onAfterSwitch:function(){}},t),this.$container=$(this.container),this.init()},init:function(){this.initElements(),this.initEvent(),this.hasSwitched=[],this.setCurrent(this.startIndex),this.isAuto&&this.start()},initElements:function(){switch(this.$items=this.$container.find(this.itemSelector),this.length=this.$items.length,this.switchType){case"fade":this.$items.css({opacity:0,zIndex:0,position:"absolute"});break;case"slide":var t=this.$items,e=$(t.get(0)).clone(),i=$(t.get(this.length-1)).clone();this.$container.append(e).prepend(i),this.$items=this.$container.find(this.itemSelector),this.$container.css({width:(this.length+2)*this.itemWidth,position:"absolute",top:0,left:-this.itemWidth})}return this},initEvent:function(){return this.$container.bind("mouseenter",$.proxy(this.stop,this)).bind("mouseleave",$.proxy(this.start,this)),this},setCurrent:function(t){this.currentIndex=t,$.inArray(t,this.hasSwitched)<0&&$.isFunction(this.onFirstSwitch)&&(this.onFirstSwitch(t),this.hasSwitched.push(t));var e=this.$items,i=$(e.get(t));switch(e.removeClass(this.activeClass),i.addClass(this.activeClass),this.switchType){case"fade":$(e.get(t)).css({opacity:1,zIndex:this.zIndex})}return this},getCurrent:function(){return this.currentIndex},switchTo:function(t){switch(this.switchType){case"fade":var e=this.$items,i=this.currentIndex,n=$(e.get(i)),o=null;t>=this.length?t=0:t<=-1&&(t=this.length-1),o=$(e.get(t)),$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,i,t),e.each(function(t){var e=$(this);parseFloat(e.css("opacity"))>0&&t!==i&&e.stop().fadeTo(this.duration,0).css("zIndex","0")}),n.stop().fadeTo(this.duration,0,$.proxy(function(){n.css("zIndex","0")},this)),o.stop().fadeTo(this.duration,1,$.proxy(function(){this.setCurrent(t),o.css({opacity:1,zIndex:this.zIndex}),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this));break;case"slide":var e=this.$items,n=$(e.get(this.currentIndex));$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,this.currentIndex,t),this.$container.animate({left:-(t+1)*this.itemWidth},this.duration,$.proxy(function(){t>=this.length?(t=0,this.$container.css("left",-this.itemWidth*(t+1))):t<=-1&&(t=this.length-1,this.$container.css("left",-this.itemWidth*(t+1))),this.setCurrent(t),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this))}return this},switchToPrev:function(){var t=this.currentIndex-1;return this.switchTo(t),this},switchToNext:function(){var t=this.currentIndex+1;return this.switchTo(t),this},start:function(){return clearTimeout(this.autoTimer),this.autoTimer=setTimeout($.proxy(function(){this.switchToNext().start()},this),this.delay),this},stop:function(){return clearTimeout(this.autoTimer),this},destroy:function(){this.unbind(),this.$container.remove()},unbind:function(){return this.$container.unbind(),this}});return t}),define("ceilinglamp",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,zIndex:100,top:0,arrive:null,arriveThreshold:0,addWrap:!1,hasFixedStyle:!1,fixedClassName:"J_ceilinglamp_fixed",threshold:"auto",width:"auto",align:null,scrollDelay:50,onShow:null,onHide:null},t),this.$container=$(this.container),this.arrive=$(this.arrive),this.init()},init:function(){var t=this;t.offsetTop=this.$container.offset().top,t.insert(),t.showInit(),t.bind()},insert:function(){var t=this;if(!t.addWrap){var e="J_ceilinglamp_wrap",i="";"auto"==t.width&&(t.width=t.$container.outerWidth()),null!==t.width&&t.width>=0&&(i="width:"+t.width+"px;"),t.$container.wrap('<div class="'+e+'" style="'+i+"height:"+t.$container.outerHeight(!0)+'px;"></div>'),t.eleWrap=$("."+e)}if("auto"==t.threshold?t.threshold=t.$container.outerHeight(!0):isNaN(parseInt(t.threshold))&&(t.threshold=0),t.currentClass=t.fixedClassName,!t.hasFixedStyle){var n=t.zIndex,o=t.top-parseInt(t.$container.css("marginTop"),10),s="."+t.currentClass+"{position:fixed;top:"+o+"px;z-index:"+n+"}";t.insertStyles(s)}},insertStyles:function(t){var e=document,i=e.getElementsByTagName("head"),n=e.createElement("style");if(n.setAttribute("type","text/css"),n.styleSheet)n.styleSheet.cssText=t;else{var o=e.createTextNode(t);n.appendChild(o)}i.length&&i[0].appendChild(n)},show:function(){var t=this,e=t.$container.hasClass(t.currentClass);if(e||(t.$container.addClass(t.currentClass),$.isFunction(t.onShow)&&t.onShow.call(t,t.$container),t.isShow=!0),t.arrive){var i=$(document).scrollTop(),n=t.arrive.offset().top;if(i>=n+t.arriveThreshold){var o=n-t.offsetTop+t.arriveThreshold;t.$container.css({position:"absolute",top:o})}else t.$container[0].style.position="",t.$container[0].style.top=""}setTimeout(function(){t.isPlay=!1},10)},hide:function(){var t=this,e=t.$container.hasClass(t.currentClass);e&&(t.isShow=!1,t.$container.removeClass(t.currentClass),$.isFunction(t.onHide)&&t.onHide.call(t,t.$container))},showInit:function(){var t=this,e=$(document).scrollTop();t.$container.hasClass(t.currentClass)||(t.offsetTop=t.$container.offset().top+t.threshold),e>t.offsetTop?t.show():t.hide()},onScroll:function(){var t=this;if(null!=t.align){var e=$(document).scrollTop(),i=t.oldScrollTop,n=i>e?"top":"bottom";t.align==n?t.showInit():t.hide()}else t.showInit()},bind:function(){var t=this,e=-1;t.oldScrollTop=$(document).scrollTop(),$(window).scroll(function(){t.isShow?(t.isPlay=!0,t.onScroll()):(clearTimeout(e),e=setTimeout(function(){t.isPlay=!0,t.onScroll()},t.scrollDelay))}),$(window).resize(function(){t.isPlay||t.onScroll()})}});return t}),define("cookie",function(){"use strict";function t(t,e,i,n,o,s){if(arguments.length<=1)throw new Error("Parameters can not be less than 1");
if(i){var r=null;"number"==typeof i?(r=new Date,r.setTime(r.getTime()+i)):i.toUTCString&&(r=i),"string"==typeof i?(s=o,o=n,n=i):i="; expires="+r.toUTCString()}i||(i=void 0),n=n?"; path="+n:"; path=/",o=o?"; domain="+o:"",s=s?"; secure":"",document.cookie=[t,"=",encodeURIComponent(e),i,n,o,s].join("")}function e(t){if("string"==typeof t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));if(e)return decodeURIComponent(e[2])}return!1}function i(i){return null!==e(i)&&(t(i,null,-1),!0)}return{get:e,set:t,"delete":i}}),define("countdown",function(t){"use strict";var e=_.Class.extend({construct:function(t){var e={startTime:new Date,endTime:new Date,state:1,interval:1e3,stateCallback:null,autoStart:!0,stateMap:{0:{name:"已结束"},1:{name:"未开始"},2:{name:"进行中"}},timer:null};$.extend(this,e,t||{}),this.autoStart&&this.init()},init:function(){this.start()},start:function(){this.update(+new Date-this.interval)},pause:function(){this.timer&&clearTimeout(this.timer)},update:function(t){var e=+new Date,i=e-t,n=[],o=this,s=this.startTime,r=this.endTime,a=this.interval,c=a+(a-i);"[object Array]"!==Object.prototype.toString.call(s)&&(s=[s],r=[r]);for(var l=0,h=s.length;l<h;l++){var u,d=new Date(s[l]).getTime(),f=new Date(r[l]).getTime();d>e&&(u=1),f<e&&(u=0),e>d&&e<f&&(u=2);var p=2==u?f-e:d-e,g=this.pad(Math.floor(p/36e5%24),2),m=this.pad(Math.floor(p/1e3/60%60),2),v=this.pad(Math.floor(p/1e3%60),2),w=this.pad(Math.floor(p/100%10),1),b=this.pad(Math.floor(p/864e5),2),y={hour:g,minute:m,second:v,millisecond:w,day:b,state:u,current:o.stateMap[u]};n.push(y)}this.stateCallback&&this.stateCallback(1===n.length?n[0]:n),this.timer=setTimeout($.proxy(this.update,this,e),c<0?0:c)},pad:function(t,e){return(Array(e).join(0)+t).slice(-e)}});return e}),define("dialog",function(){"use strict";var t=_.Class.extend({construct:function(t){this.config={txtInfo:null,container:""},t&&$.extend(this.config,t),this.init()},init:function(){var t=this.config;this.$container=null,this.txtInfo=null===t.txtInfo?"":t.txtInfo},checkRun:function(){return null!=this.$container},render:function(t){var e=this.$container;t.container&&($("body").append(t.dom),e=$(t.container),e.toggle(),this.$container=e)},callBack:function(t){var e=this;e.checkRun()&&t&&$.each(t,function(t,i){e.$container.find(t).unbind("click.defined"),e.$container.find(t).bind("click.defined",function(){i()})})}});return t}),define("fixable",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{fixableElement:null,hasFixedStyle:!1,x:"left",y:"top",xValue:0,yValue:0,zIndex:null,delay:50,onResizeCallback:null},t),this.init()},init:function(){var t=this;t.$fixableElement=$(t.fixableElement),t.onResizeTimer=null,null!=t.zIndex&&t.$fixableElement.css("z-index",t.zIndex),t.initEvent()},initEvent:function(){var t=this,e=(t.$fixableElement,$(window));t.hasFixedStyle===!1&&t.convertPosition(),null!==t.onResizeCallback&&(t.onResizeCallback(e.width()),e.bind("resize",$.proxy(t.onResize,t)))},convertPosition:function(){var t,e,i=this,n=i.$fixableElement,o=i.xValue,s=i.yValue,r={};"center"==o&&(t=n.outerWidth()/2,r.marginLeft=-t,o="50%"),"center"==s&&(e=n.outerHeight()/2,r.marginTop=-e,s="50%"),r.position="fixed",r[i.x]=o,r[i.y]=s,n.css(r)},onResize:function(){var t,e=this,i=(e.$fixableElement,$(window));clearTimeout(e.onResizeTimer),e.onResizeTimer=setTimeout(function(){t=i.width(),e.onResizeCallback(t)},e.delay)}});return t}),define("o2lazyload",function(){"use strict";!function(window,$){var $window=$(window);$.fn.o2lazyload=function(options){var self=this,$self=$(self),settings={threshold:200,delay:100,container:window,source:"data-lazy-img",supportWebp:!0,cacheSupportWebp:!0,cacheSupportWebpKey:"o2-webp",webpReg:/\/\/img\d+.360buyimg.com\/.+\.(jpg|png)$/,webpSuffix:".webp",webpQuality:80,webpDisableKey:"data-webp",webpDisableValue:"no",forceOpenOrCloseWebP:"o2-webp",placeholder:"//misc.360buyimg.com/lib/img/e/blank.gif"};options&&$.extend(settings,options);var inviewport=function(){var t=function(t){var e;return e=void 0===settings.container||settings.container===window?(window.innerHeight?window.innerHeight:$window.height())+$window.scrollTop():$(settings.container).offset().top+$(settings.container).height(),e<=$(t).offset().top-settings.threshold},e=function(t){var e;return e=void 0===settings.container||settings.container===window?$window.width()+$window.scrollLeft():$(settings.container).offset().left+$(settings.container).width(),e<=$(t).offset().left-settings.threshold},i=function(t){var e;return e=void 0===settings.container||settings.container===window?$window.scrollTop():$(settings.container).offset().top,e>=$(t).offset().top+settings.threshold+$(t).height()},n=function(t){var e;return e=void 0===settings.container||settings.container===window?$window.scrollLeft():$(settings.container).offset().left,e>=$(t).offset().left+settings.threshold+$(t).width()};return function(o){return!(e(o)||n(o)||t(o)||i(o))}}(),Lazyload={$elements:[],webpSupported:!1,forceOpenWebP:!1,_setImg:function(t,e,i){e.attr("src",i),t.onload=null},_errorLoadImg:function(t,e,i){(this.webpSupported&&e.attr(settings.webpDisableKey)!==settings.webpDisableValue||this.forceOpenWebP)&&(t.onload=$.proxy(function(){this._setImg(t,e,i)},this),t.src=i),t.onerror=null},_loadImg:function(t){var e=t.attr(settings.source),i=t.attr(settings.webpDisableKey),n=e;this.webpSupported&&(settings.webpReg.test(e)&&i!==settings.webpDisableValue||this.forceOpenWebP)&&(n=e+"!q"+settings.webpQuality+settings.webpSuffix);var o=new Image;o.onload=$.proxy(function(){this._setImg(o,t,n)},this),o.onerror=$.proxy(function(){this._errorLoadImg(o,t,e)},this),o.src=n},_loadImgs:function(){this.$elements=$self.find("img["+settings.source+"]["+settings.source+'!="done"]'),this.$elements.each($.proxy(function(t,e){var i=$(e);inviewport(e)&&void 0!==i.attr(settings.source)&&(i.attr("src")||i.attr("src",settings.placeholder),this._loadImg(i),i.attr(settings.source,"done"))},this))},_loadTimer:null,_update:function(){clearTimeout(this._loadTimer),this._loadTimer=setTimeout($.proxy(this._loadImgs,this),settings.delay)},_forceUpdateArea:function(t,e){setTimeout($.proxy(this._forceLoadImgs,this,e),settings.delay)},_forceLoadImgs:function(t){this.$elements=$self.find("#"+t).find("img["+settings.source+"]["+settings.source+'!="done"]'),this.$elements.each($.proxy(function(t,e){var i=$(e);void 0!==i.attr(settings.source)&&(i.attr("src")||i.attr("src",settings.placeholder),this._loadImg(i),i.attr(settings.source,"done"))},this))},_initEvent:function(){$(document).ready($.proxy(this._update,this)),$window.bind("scroll.o2-lazyload",$.proxy(this._update,this)),$window.bind("resize.o2-lazyload",$.proxy(this._update,this)),$self.bind("renderImage",$.proxy(this._forceUpdateArea,this))},_isInit:function(){return"1"===$self.attr(settings.source+"-install")||($self.attr(settings.source+"-install","1"),!1)},init:function(t){if(!this._isInit()){var e=Util.getUrlParams(settings.forceOpenOrCloseWebP);this.webpSupported=t,"1"===e&&(this.forceOpenWebP=!0),this._initEvent()}}},Util={setCookie:function(t,e,i,n){if(n||(n=location.hostname),arguments.length>2){var o=new Date((new Date).getTime()+parseInt(60*i*60*24*30*1e3));document.cookie=t+"="+escape(e)+"; path=/; domain="+n+"; expires="+o.toGMTString()}else document.cookie=t+"="+escape(e)+"; path=/; domain="+n},getCookie:function(t){try{return null==document.cookie.match(new RegExp("(^"+t+"| "+t+")=([^;]*)"))?"":decodeURIComponent(RegExp.$2)}catch(e){return null==document.cookie.match(new RegExp("(^"+t+"| "+t+")=([^;]*)"))?"":RegExp.$2}},getUrlParams:function(key){var query=location.search,reg="/^.*[\\?|\\&]"+key+"\\=([^\\&]*)/";reg=eval(reg);var ret=query.match(reg);return null!=ret?decodeURIComponent(ret[1]):""}},checkWebp=function(t){if("0"===Util.getUrlParams(settings.forceOpenOrCloseWebP))return void t(!1);if(!settings.supportWebp)return void t(!1);if(settings.cacheSupportWebp){var e=Util.getCookie(settings.cacheSupportWebpKey);if(""!==e)return void t("true"===e||e===!0)}var i=new Image;i.onload=function(){var e=i.width>0&&i.height>0;t(e),settings.cacheSupportWebp&&Util.setCookie(settings.cacheSupportWebpKey,e,1)},i.onerror=function(){t(!1),settings.cacheSupportWebp&&Util.setCookie(settings.cacheSupportWebpKey,!1,1)},i.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA"};return checkWebp(function(t){Lazyload.init(t)}),this}}(window,jQuery)}),define("o2lazyload",function(){"use strict";!function(window,$){var $window=$(window),_height=$window.height(),_scrollTop=$window.scrollTop(),_event=new _.Events,_getWindowHeight=function(){return window.innerHeight?function(){return window.innerHeight}:function(){return $window.height()}}();_.eventCenter.on("lazyload:DOMUpdate",function(t){_height=_getWindowHeight(),_event.trigger("lazyload:load",t)}),$window.bind("scroll.o2-lazyload",function(t){_scrollTop=$window.scrollTop(),_event.trigger("lazyload:load")}),$window.bind("resize.o2-lazyload",function(t){_height=_getWindowHeight(),_scrollTop=$window.scrollTop(),_event.trigger("lazyload:load")});var Util={setCookie:function(t,e,i,n){if(n||(n=location.hostname),arguments.length>2){var o=new Date((new Date).getTime()+parseInt(60*i*60*24*30*1e3));document.cookie=t+"="+escape(e)+"; path=/; domain="+n+"; expires="+o.toGMTString()}else document.cookie=t+"="+escape(e)+"; path=/; domain="+n},getCookie:function(t){try{return null==document.cookie.match(new RegExp("(^"+t+"| "+t+")=([^;]*)"))?"":decodeURIComponent(RegExp.$2)}catch(e){return null==document.cookie.match(new RegExp("(^"+t+"| "+t+")=([^;]*)"))?"":RegExp.$2}},getUrlParams:function(key){var query=location.search,reg="/^.*[\\?|\\&]"+key+"\\=([^\\&]*)/";reg=eval(reg);var ret=query.match(reg);return null!=ret?decodeURIComponent(ret[1]):""},inviewport:function(){var t=function(t,e){return _height+_scrollTop<=t.top-e},e=function(t,e){return _scrollTop>=t.top+e+t.height};return function(i,n){return!t(i,n)&&!e(i,n)}}()},Lazyload=function(t){this.$self=t.$self,this.webpSupported=!1,this.forceOpenWebP=!1,this._loadTimer=null,this._imgInfo=[],this._loaded={},this.settings=t.settings};Lazyload.prototype._setImg=function(t,e,i){e.attr("src",i),t.onload=null},Lazyload.prototype._loadImg=function(t){var e=t.$el,i=t.src,n=i,o=t.webpDisable,s=this;if(!t.loading){t.loading=!0;var r=new Image,a=!1,c=this.settings;this.webpSupported&&c.webpReg.test(i)&&o!==c.webpDisableValue||this.forceOpenWebP?n=i+"!q"+c.webpQuality+c.webpSuffix:c.quality!==-1&&(n=i+"!q"+c.quality),r.onload=function(){a=!0,t.loading=!1,t.done=!0,e.attr(c.source,"done"),s._setImg(r,e,n)},r.onerror=function(){t.webpDisable="no",t.loading=!1},r.src=n,1!=r.complete||a||(a=!0,t.loading=!1,t.done=!0,e.attr(c.source,"done"),this._setImg(r,e,n))}},Lazyload.prototype._loadImgs=function(){var t=this._imgInfo.length,e=this;for($.each(this._imgInfo,function(t,i,n){var o=i.$el;!i.done&&Util.inviewport(i,e.settings.threshold)&&(i.src||o.attr("src",e.settings.placeholder),e._loadImg(i))});t--;)1==this._imgInfo[t].done&&this._imgInfo.splice(t,1)},Lazyload.prototype._update=function(){clearTimeout(this._loadTimer),this._loadTimer=setTimeout($.proxy(this._loadImgs,this),this.settings.delay)},Lazyload.prototype._refreshDOMEl=function(t){if(1!=t.attr("data-inlazyqueue")){t.attr("data-inlazyqueue",!0);var e=this;$("img",t).each(function(t,i){var n=$(i),o=n.attr(e.settings.source);o&&"done"!=o&&e._imgInfo.push({$el:n,src:o,done:!1,top:n.offset().top,height:n.height(),loading:!1,webpDisable:n.attr(e.settings.webpDisableKey)})})}},Lazyload.prototype._refreshDOMPos=function(t){$.each(this._imgInfo,function(e,i,n){n[e].top=t.offset().top,n[e].height=t.height()})},Lazyload.prototype._initEvent=function(){$(document).ready($.proxy(this._update,this)),_.eventCenter.on("lazyload:DOMUpdate",$.proxy(this._refreshDOMEl,this)),_event.on("lazyload:load",$.proxy(this._update,this))},Lazyload.prototype._isInit=function(){return"1"===this.$self.attr(this.settings.source+"-install")||(this.$self.attr(this.settings.source+"-install","1"),!1)},Lazyload.prototype.init=function(t){if(!this._isInit()){var e=Util.getUrlParams(this.settings.forceOpenOrCloseWebP);this.webpSupported=t,"1"===e&&(this.forceOpenWebP=!0),this._initEvent()}},$.fn.o2lazyload=function(t){var e,i=this,n=$(i);e=$.extend({threshold:200,delay:100,source:"data-lazy-img",supportWebp:!0,cacheSupportWebp:!0,cacheSupportWebpKey:"o2-webp",quality:-1,webpReg:/\/\/img\d+.360buyimg.com\/.+\.(jpg|png)$/,webpSuffix:".webp",webpQuality:80,webpDisableKey:"data-webp",webpDisableValue:"no",forceOpenOrCloseWebP:"o2-webp",placeholder:"//misc.360buyimg.com/lib/img/e/blank.gif"},t);var o=new Lazyload({$self:n,settings:e}),s=function(t){if("0"===Util.getUrlParams(e.forceOpenOrCloseWebP))return void t(!1);if(!e.supportWebp)return void t(!1);if(e.cacheSupportWebp){var i=Util.getCookie(e.cacheSupportWebpKey);if(""!==i)return void t("true"===i||i===!0)}var n=new Image;n.onload=function(){var i=n.width>0&&n.height>0;t(i),e.cacheSupportWebp&&Util.setCookie(e.cacheSupportWebpKey,i,1)},n.onerror=function(){t(!1),e.cacheSupportWebp&&Util.setCookie(e.cacheSupportWebpKey,!1,1)},n.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA"};return s(function(t){o.init(t)}),this}}(window,jQuery)}),define("lift",function(){"use strict";var t=_.Class.extend({construct:function(t){this.config={$container:null,$backTop:null,floorListHook:".JS_floor",liftListHook:".JS_lift",itemSelectedClassName:"",startShowPosition:0,scrollDelay:200,speed:800},t&&$.extend(this.config,t),this.init()},init:function(){this.$window=$(window),this.WIN_W=this.$window.width(),this.WIN_H=this.$window.height(),this.DOC_H=$(document).height(),this.timer=null,this.scrollTimer=null,this.$floorList=$(this.config.floorListHook),this.$liftList=this.config.$container.find(this.config.liftListHook),this.checkRun()},checkRun:function(){var t=this.config;null!=t.$container&&0!=this.$floorList.length&&0!=this.$liftList.length&&this.start()},start:function(){this.bindEvents()},getFloorInfo:function(){var t=[];return this.$floorList.length>0?(this.$floorList.each(function(){t.push($(this).offset().top)}),t):null},bindEvents:function(){var t=this.config,e=t.$backTop,i=this;i.$window.bind("scroll.lift",$.proxy(i.lift,i)),t.$container.delegate(t.liftListHook,"click.lift",{thisObj:i},i.liftJump),null!==e&&e.length>0&&e.bind("click.backTop",$.proxy(i.backTop,i))},backTop:function(){var t=this,e=t.config;return t.$window.unbind("scroll.lift"),$("body,html").stop().animate({scrollTop:0},e.speed,function(){t.$window.bind("scroll.lift",$.proxy(t.lift,t)),t.$liftList.removeClass(e.itemSelectedClassName)}),!1},lift:function(){var t=this,e=t.config;clearTimeout(t.timer),clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout(function(){var i=t.$window.scrollTop(),n=e.itemSelectedClassName;i>=e.startShowPosition?(e.$container.fadeIn(),$.each(t.getFloorInfo(),function(o,s){i>=s-t.WIN_H/2+5?t.$liftList.eq(o).addClass(n).siblings(e.liftListHook).removeClass(n):i>=t.DOC_H-t.WIN_H/2-5&&t.$liftList.eq(o).addClass(n).siblings(e.liftListHook).removeClass(n),i<t.getFloorInfo()[0]-t.WIN_H/2&&t.$liftList.removeClass(n)})):e.$container.fadeOut()},e.scrollDelay)},liftJump:function(t){var e=t.data.thisObj,i=e.config;clearTimeout(e.timer),$(this).addClass(i.itemSelectedClassName).siblings(i.liftListHook).removeClass(i.itemSelectedClassName),e.$window.unbind("scroll.lift"),$("body,html").stop().animate({scrollTop:e.getFloorInfo()[$(this).index(i.$container.selector+" "+i.liftListHook)]},i.speed,function(){e.timer=setTimeout(function(){e.$window.bind("scroll.lift",$.proxy(e.lift,e))},50)})}});return t}),define("login",["//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js","//misc.360buyimg.com/jdf/1.0.0/ui/dialog/1.0.0/dialog.js"],function(t){"use strict";var e=t("//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js"),i=_.Class.extend({construct:function(t){$.extend(this,{},t)},isLogin:function(t){"function"==typeof t?e.isLogin(t):e(t)}}),n=(new i).isLogin;return n}),define("marquee",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:null,duration:5e3,delay:0,gap:0,direction:"left",pauseOnHover:!0},t),this.$container=$(this.container),this.$itemSelector=$(this.itemSelector),this.init()},init:function(){this.initElements(),this.initEvent(),this.start()},initElements:function(){this.$itemSelector=$(this.itemSelector);var t;switch(this.$container.parent().css({position:"relative"}),this.direction){case"left":this.itemSelectorWidth=this.$itemSelector.outerWidth(),this.containerWidth=this.itemSelectorWidth+this.gap,t=Math.ceil(this.$container.parent().outerWidth()/this.containerWidth),this.containerWidth=this.containerWidth*(t+1);for(var e=0;e<t;e++)this.$container.append(this.$itemSelector.clone());this.$itemSelector=$(this.itemSelector),this.$container.css({position:"absolute",top:0,left:0,width:this.containerWidth,overflow:"hidden"}),this.$itemSelector.css({"float":"left",display:"block",marginRight:this.gap,marginLeft:0});break;case"up":this.itemSelectorHeight=this.$itemSelector.outerHeight(),this.containerHeight=this.itemSelectorHeight+this.gap,t=Math.round(this.$container.parent().outerHeight()/this.containerHeight),this.containerHeight=this.containerHeight*(t+1);for(var e=0;e<t;e++)this.$container.append(this.$itemSelector.clone());this.$itemSelector=$(this.itemSelector),this.$container.css({position:"absolute",top:0,left:0,height:this.containerHeight,overflow:"hidden"}),this.$itemSelector.css({"float":"left",display:"block",marginTop:0,marginBottom:this.gap})}return this},initEvent:function(){return this.pauseOnHover&&this.$container.delegate(this.itemSelector,"mouseenter",$.proxy(this.stop,this)).delegate(this.itemSelector,"mouseleave",$.proxy(this.start,this)),this},startAnimate:function(){this.$container=$(this.container);var t=this.$container.find(this.itemSelector).eq(0);switch(this.direction){case"left":this.$container.animate({left:-(this.itemSelectorWidth+this.gap)},this.duration,"linear",$.proxy(function(){this.$container.css({left:0}),t.appendTo(this.$container)},this));break;case"up":this.$container.animate({top:-(this.itemSelectorHeight+this.gap)},this.duration,"linear",$.proxy(function(){this.$container.css({top:0}),t.appendTo(this.$container)},this))}return this},stopAnimate:function(){return this.$container.stop(!0),this},start:function(){return clearTimeout(this.autoTimer),this.autoTimer=setTimeout($.proxy(function(){this.startAnimate().start()},this),this.delay),this},stop:function(){return clearTimeout(this.autoTimer),this.stopAnimate(),this},destroy:function(){this.unbind(),this.$container.remove()},unbind:function(){return this.$container.undelegate(),this}});return t}),define("masonry",function(t){"use strict";var e=t("util"),i=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:"",itemWidth:0,column:1,horizontalMargin:15,verticalMargin:15,onAfterRender:function(){}},t),this.$container=$(this.container),this.init()},init:function(){var t=new Array(this.column);this.$items=this.$container.find(this.itemSelector),this.column=Math.min(this.$items.length,this.column);for(var i=0;i<this.column;i++)t[i]=this.$items[i].offsetTop+this.$items[i].offsetHeight;for(var n=0,o=this.$items.length;n<o;n++){var s=$(this.$items.get(n));if(this.itemWidth&&s.width(this.itemWidth),n>=this.column){var r=Math.min.apply(null,t),a=0;a=Array.prototype.indexOf?t.indexOf(r):e.indexOf(t,r),s.css({left:a*(this.itemWidth+this.horizontalMargin)+"px",top:r+this.verticalMargin+"px"}),t[a]+=s.get(0).offsetHeight+this.verticalMargin}else s.css({top:0,left:n%this.column*(this.itemWidth+this.horizontalMargin)+"px"})}this.$container.css({height:Math.max.apply(null,t)}),$.isFunction(this.onAfterRender)&&this.onAfterRender.call(this)}});return i}),define("pager",function(t){"use strict";var e=_.Class.extend({construct:function(t){var e={el:null,pagesize:10,pages:0,count:1,displayedPages:5,currentPage:1,btnTpl:' <li class="item" data-role="{num}"><a class="num" href="javascript:;">{num}</a></li>',btnPrevTpl:'<li class="item prev" data-role="prev"><a class="num" href="javascript:;" ><span class="mod_icon mod_icon_prev"></span><span>上一页</span></a></li>',btnNextTpl:'<li class="item next" data-role="next"><a class="num" href="javascript:;"><span>下一页</span><span class="mod_icon mod_icon_next"></span></a></li>',dotTpl:'<li class="item dot" data-role="dot">...</li>',onPage:null,halfDisplayed:0,delegateObj:".item",activeClass:"active",role:"role"};$.extend(this,e,t||{}),this.init()},init:function(){this.pages=Math.ceil(this.count/this.pagesize),this.halfDisplayed=this.displayedPages/2,this.drawUI(),this.initEvent()},initEvent:function(){var t=this;t.el.delegate(t.delegateObj,"click",function(){var e=$(this).data(t.role),i=t.currentPage;if(e!==i)switch(e){case"prev":t.prevPage();break;case"next":t.nextPage();break;case"dot":return;default:i=e,t.goToPage(i)}})},drawUI:function(){var t=this,e=[],i=t.pages>t.displayedPages,n=this._getInterval(this),o=!0;if(0!==n.end){t.currentPage==this.pages&&(o=!1);for(var s=n.start;s<=n.end;s++)e.push(t.btnTpl.replace(/{num}/g,s));i&&n.end!==t.pages&&(e.push(t.dotTpl),e.push(t.btnTpl.replace(/{num}/g,t.pages))),o&&e.push(t.btnNextTpl),t.currentPage>1&&e.unshift(t.btnPrevTpl),t.el.html(e.join("")).find("[data-"+t.role+'="'+t.currentPage+'"]').addClass(t.activeClass).siblings().removeClass(t.activeClass),t.onPage&&t.onPage.call(t)}},_getInterval:function(t){return{start:Math.ceil(t.currentPage>t.halfDisplayed?Math.max(Math.min(t.currentPage-t.halfDisplayed,t.pages-t.displayedPages),1):1),end:Math.ceil(t.currentPage>t.halfDisplayed?Math.min(t.currentPage+t.halfDisplayed-1,t.pages):Math.min(t.displayedPages,t.pages))}},goToPage:function(t){var e=t;e>this.pages&&(e=this.pages),e<1&&(e=1),this.currentPage=e,this.drawUI()},nextPage:function(){var t=this.currentPage;t+=1,this.goToPage(t)},prevPage:function(){var t=this.currentPage;t-=1,this.goToPage(t)}});return e}),define("parallaxmouse",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,elementSelector:null,magnification:.1},t),this.$container=$(this.container),this.$elementSelector=$(this.elementSelector),this.init()},init:function(){this.initElements(),this.initEvent()},initElements:function(){return this.center={x:Math.floor(this.$container.width()/2),y:Math.floor(this.$container.height()/2)},this.elemPosition={left:parseInt(this.$elementSelector.css("left"),10),top:parseInt(this.$elementSelector.css("top"),10)},this},initEvent:function(){return $("body").delegate(this.container,"mousemove",$.proxy(this.mousemove,this)),this},mousemove:function(t){var e={x:t.pageX,y:t.pageY},i=this.elemPosition.top+Math.floor((this.center.y-e.y)*this.magnification),n=this.elemPosition.left+Math.floor((this.center.x-e.x)*this.magnification);return this.render({top:i,left:n}),this},render:function(t){return this.$elementSelector.css({top:t.top,left:t.left}),this},destroy:function(){this.unbind(),this.$container.remove()},unbind:function(){return $("body").undelegate(this.container,"mousemove"),this}});return t}),define("resourceLoader",function(){var t={ProcessStatus:{NOSTART:0,RUNNING:1,PAUSE:2,COMPLETE:3,ERROR:4},ProcessCommand:{PAUSE:0,STOP:1,NONE:2},FileStatus:{NOSTART:0,RUNNING:1,ERROR:2,COMPLETE:3}},e=function(e){this.conf=$.extend({},e),this.handler={onComplete:null,onError:null},this._file={},this._status=t.FileStatus.NOSTART};e.prototype={constructor:e,_onload:function(){this._status=t.FileStatus.COMPLETE,this.runHandler(this.handler.onComplete,this._file)},_onerror:function(){this._status=t.FileStatus.ERROR,this.runHandler(this.handler.onError,this._file)},status:function(){var t=arguments[0];return void 0===t?this._status:void(this._status=t)},process:function(e){if(this._file=e,this._file.url){var i,n=null;return this._status=t.FileStatus.RUNNING,n=new Image,n.onerror=$.proxy(function(){i=!0,n=null,this._onerror()},this),n.onload=$.proxy(function(){i||(i=!0,this._onload(),n=null)},this),n.src=this._file.url,!i&&n.complete&&(i=!0,this._onload(),n=null),this}},bind:function(t,e){return this.handler[t]=e,this},runHandler:function(t,e){return t&&t(e),this}};var i=function(t){this.conf=$.extend({},t),this._cache=[],this._complete=[],this.handler={onItemComplete:null,onItemStart:null,onItemError:null,onComplete:null,onStart:null,onError:null,onPause:null}};i.prototype={constructor:i,_createLoader:function(){var t=new e;return t.bind("onComplete",$.proxy(this._onItemComplete,this)).bind("onError",$.proxy(this._onItemError,this))},_getLoader:function(){for(var e=null,i=this._cache.length,n=0;n<i;n++){var o=this._cache[n];if(o.status()!==t.FileStatus.RUNNING){e=o;break}}return null===e&&(e=this._createLoader(),this._cache.push(e)),e},_onItemComplete:function(t){this.runHandler(this.handler.onItemComplete,t.url),this._complete.push(t),this._toComplete(),this._toContinue(),this._toPause()},_onItemError:function(t){this.runHandler(this.handler.onItemError,t.url).runHandler(this.handler.onError,t),this._toComplete(),this._toContinue(),this._toPause()},_toComplete:function(){return 0===this._queue.length&&this._status!==t.ProcessStatus.COMPLETE&&(this._status=t.ProcessStatus.COMPLETE,this.runHandler(this.handler.onComplete),!0)},_toContinue:function(){this._status!==t.ProcessStatus.COMPLETE&&this._command==t.ProcessCommand.NONE&&this._process({queue:this._queue})},_toPause:function(){this._command===t.ProcessCommand.PAUSE&&this._status===t.ProcessStatus.RUNNING&&(this._status=t.ProcessStatus.PAUSE,this.runHandler(this.handler.onPause))},_process:function(){if(this._queue&&(this._command=t.ProcessCommand.NONE,this._status=t.ProcessStatus.RUNNING,!this._toComplete()&&this._queue.length>0)){var e=this._getLoader();if(null!==e){var i=this._queue.pop();i&&(this.runHandler(this.handler.onItemStart,i.uri),e.process({url:i.uri,type:i.type}))}}},process:function(t){return this._queue=t.queue,this.runHandler(this.handler.onStart),this._process(),this},pause:function(){return this._command=t.ProcessCommand.PAUSE,this},goOn:function(){return this._process({queue:this._queue}),this},clear:function(){return this._queue=[],this},bind:function(t,e){return this.handler[t]=e,this},runHandler:function(t,e){return t&&t(e),this}};var n={loaderPool:null,init:function(){this.loaderPool=new i},load:function(t){if(null!==t&&t.length){var e={};this.loaderPool.bind("onItemStart",function(t){var i=new Date,n=i.getTime();e[t]={},e[t].startTime=n}).bind("onItemComplete",function(t){var i=new Date,n=i.getTime();e[t]&&(e[t].endTime=n)}).process({queue:t})}},pause:function(){this.loaderPool.pause()},goOn:function(){this.loaderPool.goOn()},clear:function(){this.loaderPool.clear()}};return n.init(),n}),define("select",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{$container:null},t),this.init(),this.$container.hide()},init:function(){this.createSelect(),this.initEvent(),this.keyboard()},createSelect:function(){var t=this.$container;if(this.checkCreate()){t.after($("<div></div>").addClass("o2-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").html('<span class="current"></span><ul class="list"></ul>'));var e=t.next(),i=t.find("option"),n=t.find("option:selected");e.find(".current").html(n.text()),i.each(function(){var t=$(this);e.find("ul").append($("<li></li>").attr("data-value",t.val()).addClass("option"+(t.is(":selected")?" selected":"")+(t.is(":disabled")?" disabled":"")).html(t.text()))})}},checkCreate:function(){return!this.$container.next().hasClass("o2-select")},initEvent:function(){var t=this.$container.next(".o2-select");this.$container.bind("o2Select:setValue",$.proxy(this.selectEvent,this)),t.bind("click.o2_select",this.openOrClose),$(document).bind("click.o2_select",this.close),t.find(".option:not(.disabled)").bind("click.o2_select",this.selectOption),$(document).unbind("keydown")},selectEvent:function(){var t=this.$container.val(),e=this.$container.next(),i=e.find("li");return i.each(function(){if($(this).data("value")==t){e.find(".selected").removeClass("selected"),$(this).addClass("selected");var i=$(this).text();e.find(".current").text(i)}}),!1},openOrClose:function(t){var e=$(this);return e.hasClass("o2-select")||(e=e.parent()),$(".o2-select").not(e).removeClass("open"),e.toggleClass("open"),e.hasClass("open")?(e.find(".focus").removeClass("focus"),e.find(".selected").addClass("focus")):e.focus(),!1},close:function(t){return t.stopPropagation(),0==$(t.target).closest(".o2-select").length&&$(".o2-select").removeClass("open"),!1},selectOption:function(t){t.stopPropagation();var e=$(t.target);if("LI"==e.get(0).tagName){var i=e.closest(".o2-select").removeClass("open");i.find(".selected").removeClass("selected"),e.addClass("selected");var n=e.text();i.find(".current").text(n),i.prev("select").val(e.data("value")).trigger("change")}return!1},setSelect:function(t){function e(t,e){t.addClass("selected");var i=t.text();e.find(".current").text(i),e.prev("select").val(t.data("value")).trigger("change")}var i=t.val||t.text;if(i){var n=this.$container.next(".o2-select"),o=n.find(".option");n.find(".selected").removeClass("selected"),t.val?o.each(function(){$(this).data("value")==i&&e($(this),n)}):o.each(function(){$(this).text()==i&&e($(this),n)}),t.cb&&t.cb()}},update:function(){var t=this.$container.next(".o2-select"),e=t.hasClass("open");t.length&&(t.remove(),this.init(),e&&this.$container.next().trigger("click"))},destroy:function(){var t=this.$container.next(".o2-select");t.length&&t.remove()},keyboard:function(t){var e=this;$(document).bind("keydown",function(t){var i=$(".o2-select.open"),n=$(i.find(".focus")||i.find(".list .option.selected"));switch(t.keyCode){case 32:case 13:e.spaceEnterKey(i,n);break;case 40:e.downKey(i,n);break;case 38:e.upKey(i,n);break;case 27:e.escKey(i);break;case 9:e.tabKey(i)}})},spaceEnterKey:function(t,e){return t.hasClass("open")?e.trigger("click"):t.trigger("click"),!1},downKey:function(t,e){return t.hasClass("open")?e.next().length>0&&(t.find(".focus").removeClass("focus"),e.next().addClass("focus")):t.trigger("click"),!1},upKey:function(t,e){return t.hasClass("open")?e.prev().length>0&&(t.find(".focus").removeClass("focus"),e.prev().addClass("focus")):t.trigger("click"),!1},escKey:function(t){t.hasClass("open")&&t.trigger("click")},tabKey:function(t){if(t.hasClass("open"))return!1}});return t}),define("sidePopMenu",function(t){"use strict";var e=t("util"),i=_.Class.extend({construct:function(t){this.config={$container:null,navItemHook:"",popItemHook:"",navCtnHook:".JS_navCtn",popCtnHook:".JS_popCtn",navItemOn:"",moveDeg:70,isAuto:!1,menuDirection:"right",itemEnterCallBack:null},t&&$.extend(this.config,t),this.checkRun()},checkRun:function(){var t=this.config;null!=t.$container&&0!=$(t.navCtnHook).length&&0!=$(t.popCtnHook).length&&""!=t.navItemHook&&""!=t.popItemHook&&this.init()},init:function(){var t=this.config;this.$navCtn=t.$container.find(t.navCtnHook),this.$popCtn=t.$container.find(t.popCtnHook),this.$navItemList=this.$navCtn.find(t.navItemHook),this.$popItemList=this.$popCtn.find(t.popItemHook),this.potCollect=[],this.moveTimer=null,this.enterTimer=null,this.isBind=!1,this.$window=$(window),this.callback=null,this.initEvents()},getNavItemInfo:function(){var t=this.config,e=[];return t.$container.find(t.navItemHook).each(function(){var t=$(this),i=t.position();e.push({thisHeight:t.outerHeight(!0).toFixed(0),thisWidth:t.outerWidth().toFixed(0),thisPstX:i.left,thisPstY:i.top,thisPageY:t.offset().top})}),e},initEvents:function(){var t=this,i=t.config;i.$container.bind("mouseleave",$.proxy(t.ctnLeave,t)),t.$navCtn.delegate(i.navItemHook,{"mouseenter.itemEnter":t.navItemEnter,"mouseleave.itemLeave":t.navItemLeave},{thisObj:t,callback:i.itemEnterCallBack}),t.$navCtn.delegate(i.navItemHook,"mousemove.itemMove",{thisObj:t,callback:i.itemEnterCallBack},e.throttle(t.navItemMove,t.moveTimer)),
t.isBind=!0},ctnLeave:function(){var t=this,e=t.config;t.$navItemList.removeClass(e.navItemOn),t.$popCtn.hide(),t.$popItemList.hide(),t.moveTimer=null,t.enterTimer=null},reBindNavItemEnter:function(){var t=this,e=t.config;t.$navCtn.delegate(e.navItemHook,"mouseenter.itemEnter",{thisObj:t,callback:e.itemEnterCallBack},t.navItemEnter),t.isBind=!0},unbindNavItemEnter:function(){var t=this;t.config;t.$navCtn.undelegate(".itemEnter"),t.isBind=!1},navItemEnter:function(t){var e=t.data.thisObj,i=$(this),n=e.config,o=t.data.callback,s=$(this).index(n.$container.selector+" "+n.navItemHook);i.addClass(n.navItemOn).siblings(n.$container.selector+" "+n.navItemHook).removeClass(n.navItemOn),e.$popCtn.show();var r=e.$popItemList.eq(s);r.show().siblings(n.$container.selector+" "+n.popItemHook).hide(),n.isAuto&&e.popAutoShow(s,i),"function"==typeof o&&o({$displayEl:r})},popAutoShow:function(t,e){var i=this,e=e,n=i.config,t=e.index(n.$container.selector+" "+n.navItemHook),o=[],s=0;switch(o=i.getNavItemInfo(),n.menuDirection){case"right":i.$popCtn.css({position:"absolute",left:o[t].thisWidth+"px",top:o[t].thisPstY-o[t].thisHeight+"px",right:"auto",bottom:"auto"}),s=i.$window.height().toFixed(0)-(o[t].thisPageY-i.$window.scrollTop()),o[t].thisPstY<o[t].thisHeight?i.$popCtn.css("top","0px"):s<i.$popCtn.height().toFixed(0)&&i.$popCtn.css({top:o[t].thisPstY-(i.$popCtn.height().toFixed(0)-s)+"px"});break;case"left":i.$popCtn.css({position:"absolute",left:"auto",top:o[t].thisPstY-o[t].thisHeight+"px",right:o[t].thisWidth+"px",bottom:"auto"}),s=i.$window.height().toFixed(0)-(o[t].thisPageY-i.$window.scrollTop()),o[t].thisPstY<o[t].thisHeight?i.$popCtn.css("top","0px"):s<i.$popCtn.height().toFixed(0)&&i.$popCtn.css({top:o[t].thisPstY-(i.$popCtn.height().toFixed(0)-s)+"px"})}},navItemMove:function(t){function e(){clearTimeout(n.moveTimer),n.isBind&&n.unbindNavItemEnter(),n.moveTimer=setTimeout(function(){n.reBindNavItemEnter()},100)}function i(){clearTimeout(n.moveTimer),n.isBind||n.reBindNavItemEnter()}var n=t.data.thisObj,o=$(this),s=n.config,r=t,a=s.moveDeg*(2*Math.PI/360),c=Math.tan(a).toFixed(2),l=0,h=0,u=0,d=null,f=null;if(n.potCollect.push({x:r.pageX,y:r.pageY}),n.potCollect.length>4)switch(n.potCollect.shift(),d=n.potCollect[0],f=n.potCollect[n.potCollect.length-1],h=f.x-d.x,u=f.y-d.y,l=Math.abs((u/h).toFixed(2)),s.menuDirection){case"right":l<=c&&h>0?e():i();break;case"left":l<=c&&h<0?e():i()}return clearTimeout(n.enterTimer),n.enterTimer=setTimeout(function(){o.trigger("mouseenter",{thisObj:n,callback:s.itemEnterCallBack})},300),!1},navItemLeave:function(t){var e=t.data.thisObj;$(this),e.config;clearTimeout(e.enterTimer)}});return i}),define("tab",function(){"use strict";var t=_.Class.extend({construct:function(t){this.conf=$.extend({container:null,head:null,headItems:null,content:null,contentItems:null,startAt:0,activeClass:"active",hash:!1,hoverToSwitch:!1,onBeforeSwitch:function(){},onAfterSwitch:function(){},onFirstShow:function(){}},t),this.index=void 0;var e=this.conf;this.$el=$(e.container),this.$head=e.head?$(e.head):this.$el.children(".mod_tab_head, .J_tab_head"),this.$headItems=e.headItems?"string"==typeof e.headItems?this.$head.children(e.headItems):$(e.headItems):this.$head.children(".mod_tab_head_item, .J_tab_head_item"),this.$content=e.content?$(e.content):this.$el.children(".mod_tab_content, .J_tab_content"),this.$contentItems=e.contentItems?"string"==typeof e.contentItems?this.$content.children(e.contentItems):$(e.contentItems):this.$content.children(".mod_tab_content_item, .J_tab_content_item"),this.tabLength=this.$headItems.length;for(var i=0,n=this.$headItems.length;i<n;i++)this.$headItems[i].hasShown=!1;this.init()},init:function(){var t=this.conf,e=-1,i=window.location.hash;t.hash&&i.length>1?this.switchTo(i):("string"==typeof t.startAt?(this.$active=this.$headItems.filter(t.startAt),e=this.$active.length?this.$active.index():0):e="number"==typeof t.startAt?t.startAt:0,this.switchTo(e)),this.initEvent()},initEvent:function(){var t=this,e=t.conf,i="click";e.hoverToSwitch&&(i="mouseenter"),this.$head.delegate(".mod_tab_head_item, .J_tab_head_item",i,function(e){e&&e.preventDefault();var i=$(this).index();t.switchTo(i)})},switchTo:function(t){var e=this.conf;if(e.hash){var i;if("string"==typeof t&&(i=t.replace("#",""),this.$active=this.$headItems.filter("[data-hash$="+i+"]"),t=this.$active.index()),"number"==typeof t&&(i=this.$headItems.eq(t).attr("data-hash")),t===-1)return-1;window.location.hash=i}if(t=parseInt(t,10),t!==this.index)return this.index=t,"function"==typeof e.onBeforeSwitch&&e.onBeforeSwitch.call(this,t,this),this.$headItems.removeClass(e.activeClass).eq(t).addClass(e.activeClass),this.$contentItems.hide().eq(t).show(),"function"==typeof e.onAfterSwitch&&e.onAfterSwitch.call(this,t,this),this.$headItems[t].hasShown||"function"!=typeof e.onFirstShow||(e.onFirstShow.call(this,t,this),this.$headItems[t].hasShown=!0),this},switchToNext:function(){var t=this.index+1;return t>=this.tabLength&&(t=0),this.switchTo(t),this},switchToPrev:function(){var t=this.index-1;return t<=0&&(t=this.tabLength-1),this.switchTo(t),this},destroy:function(){this.unbind(),this.$el.remove()},unbind:function(){return this.$head.undelegate(),this},setOptions:function(t){return $.extend(this.conf,t),this}});return t}),define("tip",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{auto:!1,placement:"right",borderColor:"#000",bg:"#000",color:"#fff",fontSize:"12px",angleBool:!0},t),this.tipOption={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><span></span></div><div class="tooltip-inner"></div></div>',text:""},this.tagList=[],this.init()},init:function(){this.initEvent()},initEvent:function(){var t=$("[o2-tip]"),e=this;this.auto&&t.length>0&&($("body").delegate("[o2-tip]","mouseover",$.proxy(e.enter,e)),$("body").delegate("[o2-tip]","mouseout",$.proxy(e.leave,e)))},enter:function(t){var e=$(t.target);this.createTip({text:e.attr("o2-tip"),$obj:e,placement:e.attr("o2-placement")||this.placement})},leave:function(){this.removeTip()},calculateTarget:function(t){return{left:t.offset().left,right:t.width()+t.offset().left,top:t.offset().top,bottom:t.height()+t.offset().top}},createTip:function(t){var e=$(this.tipOption.template);switch($("body").append(e),t.tag&&(e.attr("data-tag",t.tag),this.tagList.push(t.tag)),t.angleBool!==!1?t.angleBool=!0:t.angleBool=!1,e.find(".tooltip-inner").text(t.text).css(this.tipStyle().tipInner),e.find(".tooltip-arrow").css(this.tipStyle().tipArrow),e.find(".tooltip-arrow span").css(this.tipStyle().tipArrow),e.css(this.tipStyle().tip),t.placement){case"top":e.find(".tooltip-arrow").css(this.tipStyle().tipArrowTop),e.find(".tooltip-arrow span").css(this.tipStyle().tipArrowTopIn),e.css({left:(t.$obj.width()-e.width())/2+this.calculateTarget(t.$obj).left,top:this.calculateTarget(t.$obj).top-e.height()-10});break;case"bottom":e.find(".tooltip-arrow").css(this.tipStyle().tipArrowBottom),e.find(".tooltip-arrow span").css(this.tipStyle().tipArrowBottomIn),e.css({left:(t.$obj.width()-e.width())/2+this.calculateTarget(t.$obj).left,top:this.calculateTarget(t.$obj).top+t.$obj.height()+10});break;case"right":e.find(".tooltip-arrow").css(this.tipStyle().tipArrowRight),e.find(".tooltip-arrow span").css(this.tipStyle().tipArrowRightIn),e.css({left:t.$obj.width()+this.calculateTarget(t.$obj).left+10,top:this.calculateTarget(t.$obj).top+(t.$obj.height()-e.height())/2});break;case"left":e.find(".tooltip-arrow").css(this.tipStyle().tipArrowLeft),e.find(".tooltip-arrow span").css(this.tipStyle().tipArrowLeftIn),e.css({left:this.calculateTarget(t.$obj).left-e.width()-10,top:this.calculateTarget(t.$obj).top+(t.$obj.height()-e.height())/2})}t.tag&&!t.angleBool&&e.find(".tooltip-arrow").hide(),this.angleBool||t.tag||e.find(".tooltip-arrow").hide()},removeTip:function(){$("body").find(".tooltip").last().remove()},show:function(t){this.checkTip(t.tag)&&this.createTip(t)},checkTip:function(t){if(!t)throw new Error('required a "tag" attribute');if(this.inArray(this.tagList,t)!=-1)throw new Error('Duplicate tip\'s "tag" attribute, tag attributes should be unique!');return!0},hide:function(t){var e=this.inArray(this.tagList,t);t&&e!=-1&&(this.tagList.splice(e,1),$("body").find(".tooltip[data-tag="+t+"]").remove())},tipStyle:function(){return{tip:{position:"absolute",zIndex:1070,display:"block",fontSize:"12px",fontStyle:"normal",fontWeight:"400",lineHeight:1.42857143,textAlign:"left",textDecoration:"none",textShadow:"none",textTransform:"none",letterSpacing:"normal",wordBreak:"normal",wordSpacing:"normal",wordWrap:"normal",whiteSpace:"normal",filter:"alpha(opacity=1)",opacity:1,lineBreak:"auto"},tipInner:{maxWidth:"200px",padding:"3px 8px",color:this.color,textAlign:"center",backgroundColor:this.bg,border:"1px solid "+this.borderColor,borderRadius:"4px"},tipArrow:{position:"absolute",width:0,height:0,borderStyle:"solid"},tipArrowRight:{borderWidth:"5px 5px 5px 0",borderColor:"transparent "+this.borderColor+" transparent transparent",_borderStyle:"dashed solid dashed dashed",top:"50%","margin-top":"-5px",left:"-5px"},tipArrowRightIn:{borderWidth:"5px 5px 5px 0",borderColor:"transparent "+this.bg+" transparent transparent",_borderStyle:"dashed solid dashed dashed",left:"1px",top:"-5px"},tipArrowLeft:{borderWidth:"5px 0 5px 5px",borderColor:"transparent transparent transparent "+this.borderColor,_borderStyle:"dashed dashed dashed solid",top:"50%","margin-top":"-5px",right:"-5px"},tipArrowLeftIn:{borderWidth:"5px 0 5px 5px",borderColor:"transparent transparent transparent "+this.bg,_borderStyle:"dashed dashed dashed solid",right:"1px",top:"-5px"},tipArrowTop:{borderWidth:"5px 5px 0",borderColor:this.borderColor+" transparent transparent",_borderStyle:"solid dashed dashed",left:"50%","margin-left":"-5px",bottom:"-5px"},tipArrowTopIn:{borderWidth:"5px 5px 0",borderColor:this.bg+" transparent transparent",_borderStyle:"solid dashed dashed",bottom:"1px",left:"-5px"},tipArrowBottom:{borderWidth:"0 5px 5px",borderColor:"transparent transparent "+this.borderColor,_borderStyle:"dashed dashed solid",left:"50%","margin-left":"-5px",top:"-5px"},tipArrowBottomIn:{borderWidth:"0 5px 5px",borderColor:"transparent transparent "+this.bg,_borderStyle:"dashed dashed solid",top:"1px",left:"-5px"}}},inArray:function(t,e){var i=-1;return $.each(t,function(t,n){n==e&&(i=t)}),i}});return t}),define("util",function(){"use strict";return{throttle:function(t,e,i){var n,o,s,r=null,a=0;i||(i={});var c=function(){a=i.leading===!1?0:(new Date).getTime(),r=null,s=t.apply(n,o),r||(n=o=null)};return function(){var l=(new Date).getTime();a||i.leading!==!1||(a=l);var h=e-(l-a);return n=this,o=arguments,h<=0||h>e?(clearTimeout(r),r=null,a=l,s=t.apply(n,o),r||(n=o=null)):r||i.trailing===!1||(r=setTimeout(c,h)),s}},debounce:function(t,e,i){var n,o,s,r,a,c=function(){var l=(new Date).getTime()-r;l<e&&l>0?n=setTimeout(c,e-l):(n=null,i||(a=t.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,r=(new Date).getTime();var l=i&&!n;return n||(n=setTimeout(c,e)),l&&(a=t.apply(s,o),s=o=null),a}},indexOf:function(t,e){var i=t.length,n=Number(arguments[2])||0;for(n<0&&(n+=i);n<i;){if(n in t&&t[n]===e)return n;n++}return-1},getCalendar:function(t,e){if(!(!t instanceof Date)){var i=t.getMonth()+1,n=t.getFullYear(),o=t.getDate()+(e||0);switch(0===o&&(i-=1,0===i&&(i=12,n-=1)),i){case 1:case 3:case 5:case 7:case 8:case 10:case 12:o=0===o?31:o,o>31&&(i+=1,o=1);break;case 4:case 6:case 9:case 11:o=0===o?30:o,o>30&&(i+=1,o=1);break;case 2:n%4==0?(o=0===o?29:o,o>29&&(i+=1,o=1)):(o=0===o?28:o,o>28&&(i+=1,o=1))}return i>12&&(i=1,n+=1),n+"/"+i+"/"+o}}}});